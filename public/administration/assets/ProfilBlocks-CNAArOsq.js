import{r as n,j as e,B as x,S as c}from"./index-D0zBGyDj.js";import{I as y,P as g}from"./IconifyIcon-DxrtKAFV.js";import{R as p}from"./RichTextBlock-BBn9cSDk.js";import{f as S}from"./csrf-DhkfgJmo.js";import{T as d}from"./Typography-BMrFWdWq.js";import{B as w}from"./Button-Ch97SugN.js";import{A as B}from"./Alert-D0WIFuVH.js";import"./Menu-B5xWsZiJ.js";import"./useSlot-BKua55if.js";import"./TextField-Cg6oPGF_.js";const T="Bienvenue ‚≠ê",C=`üì¶ Service de livraison ouvert 7j/7
‚è∞ Horaires : 11h - 2h
üöö Organisation des livraisons
‚Ä¢ 1 livreur d√©di√© √† Marseille
‚Ä¢ 1 livreur d√©di√© aux alentours
‚ö° Objectif : une livraison rapide, efficace et fiable`,v="üì¶ LIVRAISON MAIN PROPRE",k=`‚è∞ 3 tourn√©es quotidiennes pour mieux vous servir :
‚Ä¢ ‚åö TOURN√âE : 11h
‚Ä¢ ‚åö TOURN√âE : 15h
‚Ä¢ ‚åö TOURN√âE : 20h
üìå Zones proches du d√©partement 13
(Aix-en-Provence, Gardanne, Vitrolles, Marignane, Salon-de-Provence, Martigues)
üí∂ Frais de livraison : 10 ‚Ç¨
üìå Zones 83 / 84 / 04 üöö
(Toulon, La Seyne-sur-Mer, Hy√®res, Fr√©jus, Draguignan / Avignon, Orange, Carpentras / Digne-les-Bains, Manosque)
üõí Commande minimum : 150 ‚Ç¨
‚≠ê Programme de parrainage ‚≠ê
Chaque client peut parrainer un ami et gagner une commande offerte ! üéÅ`,_=()=>{const[t,i]=n.useState({profileBlock1Title:T,profileBlock1Content:C,profileBlock2Title:v,profileBlock2Content:k}),[f,u]=n.useState(!1),[j,E]=n.useState(!0),[m,s]=n.useState(""),[h,l]=n.useState("");n.useEffect(()=>{(async()=>{try{const a=await(await fetch("/api/settings")).json();i({profileBlock1Title:a.profileBlock1Title??T,profileBlock1Content:a.profileBlock1Content??C,profileBlock2Title:a.profileBlock2Title??v,profileBlock2Content:a.profileBlock2Content??k})}catch{s("Erreur lors du chargement des textes profil")}finally{E(!1)}})()},[]);const b=async()=>{u(!0),s(""),l("");try{const o=await S("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileBlock1Title:t.profileBlock1Title,profileBlock1Content:t.profileBlock1Content,profileBlock2Title:t.profileBlock2Title,profileBlock2Content:t.profileBlock2Content})});if(o.ok)l("Textes du profil enregistr√©s avec succ√®s"),setTimeout(()=>l(""),3e3);else{const r=await o.json();s(r.error||"Erreur lors de la sauvegarde")}}catch{s("Erreur lors de la sauvegarde")}finally{u(!1)}};return j?e.jsx(x,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:e.jsx(d,{variant:"h6",color:"text.secondary",children:"Chargement..."})}):e.jsxs(x,{children:[e.jsxs(c,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:3,flexWrap:"wrap",gap:2,children:[e.jsx(d,{variant:"h4",color:"common.white",children:"Textes de la page Profil"}),e.jsx(w,{variant:"contained",onClick:b,disabled:f,startIcon:e.jsx(y,{icon:"mdi:content-save"}),sx:{minWidth:140},children:f?"Enregistrement...":"Enregistrer"})]}),m&&e.jsx(B,{severity:"error",sx:{mb:2},onClose:()=>s(""),children:m}),h&&e.jsx(B,{severity:"success",sx:{mb:2},onClose:()=>l(""),children:h}),e.jsxs(c,{spacing:2,children:[e.jsxs(g,{sx:{p:{xs:2,sm:3},border:"1px solid",borderColor:"divider",boxShadow:2},children:[e.jsx(d,{variant:"h6",color:"common.white",mb:1.5,children:"Bloc 1"}),e.jsxs(c,{spacing:1.5,children:[e.jsx(p,{label:"Titre",value:t.profileBlock1Title,onChange:o=>i(r=>({...r,profileBlock1Title:o})),minRows:1}),e.jsx(p,{label:"Contenu",value:t.profileBlock1Content,onChange:o=>i(r=>({...r,profileBlock1Content:o})),minRows:5,placeholder:"Retours √† la ligne pr√©serv√©s. **gras** et [c=#hex]couleur[/c]"})]})]}),e.jsxs(g,{sx:{p:{xs:2,sm:3},border:"1px solid",borderColor:"divider",boxShadow:2},children:[e.jsx(d,{variant:"h6",color:"common.white",mb:1.5,children:"Bloc 2"}),e.jsxs(c,{spacing:1.5,children:[e.jsx(p,{label:"Titre",value:t.profileBlock2Title,onChange:o=>i(r=>({...r,profileBlock2Title:o})),minRows:1}),e.jsx(p,{label:"Contenu",value:t.profileBlock2Content,onChange:o=>i(r=>({...r,profileBlock2Content:o})),minRows:6,placeholder:"Retours √† la ligne pr√©serv√©s. **gras** et [c=#hex]couleur[/c]"})]})]})]})]})};export{_ as default};
